<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Panel de Notificaciones</title>
</head>
<body>
    <h1>Panel de Notificaciones</h1>
    <p>Gestiona las notificaciones del sistema.</p>
    <a href="{% url 'crear_notificacion' %}">Crear Nueva Notificación</a>
    <hr>

    {% for noti in notificaciones %}
        <div style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
            <h4>{{ noti.titulo }}</h4>
            <p>{{ noti.mensaje }}</p>
            <small>
                Publicado por: {{ noti.creado_por.username }} | {{ noti.fecha_hora }} <br>
                Itinerario Afectado: {{ noti.itinerario_afectado|default:"N/A" }} <br>
                <strong>¿Visible en Página Principal?: {% if noti.es_publica %}SÍ{% else %}NO{% endif %}</strong>
            </small>
            <br><br>
            <a href="{% url 'editar_notificacion' noti.pk %}">Editar</a>
            | <a href="{% url 'eliminar_notificacion' noti.pk %}" style="color: red;">Eliminar</a>
        </div>
    {% empty %}
        <p>No hay notificaciones creadas.</p>
    {% endfor %}

    <br>
    <a href="{% url 'index' %}">Volver a la Página Principal</a>
</body>
</html>